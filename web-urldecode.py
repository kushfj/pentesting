"""
Description:
Simple script to make it easier to decode URL or % encoded strings at the 
command line. 

Example:
  * python ./web-urldecode.py http%3A%2F%2Fwww
"""

import urllib
import sys


# Global (module) variables


def print_usage():
  """
  Prints the usage information

  Args:
    None

  Yields:
    None

  Returns:
    None
  """

  print "usage:"
  print "python", sys.argv[0], "<url>"
  print "  url - the encode URL"


#
# Main entry point
#

# Check parameters
try:
  if (len( sys.argv )) != 2:
    print "error: invalid arguments"
    print_usage()
    sys.exit()

  else:
    url = sys.argv[1]
    if len(url) <= 1:
      print "error: invalid URL"
      sys.exit()
    else:
      print urllib.unquote(url).decode('utf8')
    
except Exception as e:
  print sys.exc_info()
  sys.exit()
