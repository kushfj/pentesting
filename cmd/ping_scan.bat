@echo off
rem Performs a rudimentary network scan using built in Windows ping command
rem The scan is meant to be non-intrusive as it employs a null playload i.e., 
rem a payload with zero length. There is a 1-second timeout between each scan
rem to attempt to minimise network congestion
rem
rem usage: ping_scan <slash_24_prefix> <output_file>
rem where -
rem   <slash_24_prefix> is the /24 network prefix to scan
rem   <output_file> path and name of file to redirect the output to
FOR /L %%i IN (1,1,5) DO (
ping -a -n 1 -l 0 -4 %1.%%i >> %2
timeout /t 1 /nobreak
)
